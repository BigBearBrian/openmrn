VPATH := $(SRCDIR): \
         $(SRCDIR)/common \
         
CSRCS += fileio.c \
         can.c \
         serial.c

CXXSRCS += pipe.cxx \
	gc_pipe.cxx \
	gc_format.cxx

# Find StellarisWare
include $(OPENMRNPATH)/etc/stellarisware.mk

ifneq ($(STELLARISWAREPATH),STELLARISWAREPATH not found)
CSRCS += stellaris_can.c \
         stellaris_uart.c \
         stellaris_usb_cdc_device.c

VPATH += $(SRCDIR)/stellarisware

endif


ifdef HAVE_MBED

CPPSRCS += mbed_can.cpp mbed_usbserial.cpp

VPATH += $(SRCDIR)/nxp

endif

ifeq ($(TARGET),freertos.armv6m)
CSRCS += 11CXX_rom_can.c # malloc.c
VPATH += $(SRCDIR)/nxp
endif
